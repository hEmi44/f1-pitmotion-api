<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
       http://www.liquibase.org/xml/ns/dbchangelog
       http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">
  <changeSet id="2_load_countries" author="f1pulse">
    <preConditions onFail="MARK_RAN" onError="MARK_RAN">
      <sqlCheck expectedResult="0">
        SELECT COUNT(*) FROM countries
      </sqlCheck>
    </preConditions>

    <loadData
        file="db/data/countries.csv"
        separator=","
        tableName="countries"
        encoding="UTF-8">
      <column name="name_fr" type="STRING"/>
      <column name="name_en" type="STRING"/>
      <column name="code_iso2" type="STRING"/>
      <column name="code_iso3" type="STRING"/>
    </loadData>
  </changeSet>

</databaseChangeLog>
